DEFINE QLOCAL(IBM.DEMO.Q) BOQNAME(IBM.DEMO.Q.BOQ) BOTHRESH(3) REPLACE
DEFINE QLOCAL(IBM.DEMO.Q.BOQ) REPLACE
* Use a different dead letter queue, for undeliverable messages
DEFINE QLOCAL('DEV.DEAD.LETTER.QUEUE') REPLACE
ALTER QMGR DEADQ('DEV.DEAD.LETTER.QUEUE')
* non TLS channel
DEFINE CHANNEL('IBM.APP.SVRCONN') CHLTYPE(SVRCONN)
ALTER QMGR CHLAUTH (DISABLED)
* monitoring setup
DEFINE CHANNEL('MONITORING_CHL') CHLTYPE(SVRCONN)
SET CHLAUTH(MONITORING_CHL) TYPE(BLOCKUSER) USERLIST(NOBODY)
* TLS channel
DEFINE QLOCAL('TLS.QUEUE') REPLACE 
DEFINE CHANNEL(MQTLSCHL) CHLTYPE(SVRCONN) TRPTYPE(TCP) SSLCAUTH(OPTIONAL) SSLCIPH('ECDHE_RSA_AES_256_CBC_SHA384') REPLACE
SET CHLAUTH(MQTLSCHL) TYPE(BLOCKUSER) USERLIST('nobody') ACTION(ADD)
* end test tls connections
REFRESH SECURITY TYPE(CONNAUTH)
* optional
DEFINE SERVICE(APPLY_MQSC) CONTROL(QMGR) SERVTYPE(SERVER) STARTCMD('/mq-config/start-mqsc.sh') STARTARG(QM2) STOPCMD('/mq-config/start-mqsc.sh') STOPARG('') STDOUT('') STDERR('')